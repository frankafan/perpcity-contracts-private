[profile.default]
  solc = "0.8.26"
  evm_version = "cancun"
  bytecode_hash = "none"
  cbor_metadata = false
  via_ir = true
  optimizer = true
  optimizer_runs = 10_000
  block_gas_limit = 1_000_000_000_000

remappings = [
  "@forge-std/=lib/forge-std/",
  "@solady/=lib/solady/",
  "@uniswap/universal-router/=lib/universal-router/",
  "@uniswap/v4-core/=lib/v4-core/",
  "@uniswap/v4-periphery/=lib/v4-periphery/",
  "@uniswap/v2-core/=lib/v2-core/",
  "@uniswap/v3-core/=lib/v3-core/"
]

[profile.default.invariant]
  depth = 10
  runs = 128
  fail_on_revert = true

[profile.ci]
  verbosity = 4

[profile.ci.invariant]
  depth = 20
  runs = 256
  fail_on_revert = true

# Anvil resource optimization settings
[profile.anvil]
  block_time = 1            # 1 second block time instead of instant
  gas_limit = 30_000_000    # Reasonable gas limit
  gas_price = 20_000_000_000 # 20 gwei
  accounts = 10             # Reduce from default 10 accounts
  balance = 10_000          # 10k ETH per account instead of 100k
  state_interval = 0        # Disable periodic state dumps
  no_storage_caching = true # Disable storage caching

[fmt]
  sort_imports = true
  single_line_statement_blocks = "single"
  multiline_func_header = "all"

ignored_error_codes = [
  2394, # Transient storage warning
]

[rpc_endpoints]
  base = "https://mainnet.base.org"
  base_sepolia = "https://sepolia.base.org"
  localhost = "http://localhost:8545"